{"compress":true,"commitItems":[["808f1105-bcb6-4df3-bed1-bf5f720f78d7",1573625136385,"",[[1573625120764,["sirui-php@DESKTOP-PSVFMK8",[[1,0,"# Events\n\n\n\n"]],[0,0],[11,11]]],[1573625127017,["sirui-php@DESKTOP-PSVFMK8",[[1,11,"## onRequest事件\n\n```\n$http_server->on('request', function(swoole_http_request $request, swoole_http_response $response) {\n     $response->end(\"<h1>hello swoole</h1>\");\n})\n\n```\n\n在收到一个完整的`Http`请求后，会回调此函数。回调函数共有`2`个参数：\n\n*   `$request`，`Http`请求信息对象，包含了`header/get/post/cookie`等相关信息\n*   `$response`，`Http`响应对象，支持`cookie/header/status`等`Http`操作\n*   在`onRequest`回调函数返回时底层会销毁`$request`和`$response`对象，如果未执行`$response->end()`操作，底层会自动执行一次`$response->end(\"\")`\n\n> `onRequest`在`1.7.7`或更高版本可用\n> `$response/$request`对象传递给其他函数时，不要加`&`引用符号\n> `$response/$request`对象传递给其他函数后，引用计数会增加，`onRequest`退出时不会销毁"]],[11,11],[591,591]]],[1573625128823,["sirui-php@DESKTOP-PSVFMK8",[[-1,10,"\n"]],[9,9],[8,8]]],[1573625135337,["sirui-php@DESKTOP-PSVFMK8",[[1,10,"\n"]],[9,9],[10,10]]],[1573625135498,["sirui-php@DESKTOP-PSVFMK8",[[1,10,"注册事件回调函数，与`Server->on`相同，不同之处是：\n\n*   `Http\\Server->on`不接受`onConnect`/`onReceive`回调设置\n*   `Http\\Server->on`额外接受1种新的事件类型`onRequest`"]],[10,10],[139,139]]],[1573625135929,["sirui-php@DESKTOP-PSVFMK8",[[1,140,"* \n"]],[139,139],[142,142]]],[1573625249424,["sirui-php@DESKTOP-PSVFMK8",[[1,724,"\n"]],[723,723],[724,724]]],[1573625249639,["sirui-php@DESKTOP-PSVFMK8",[[1,725,"\n"]],[724,724],[725,725]]],[1573625249783,["sirui-php@DESKTOP-PSVFMK8",[[1,726,"\n"]],[725,725],[726,726]]],[1573625250160,["sirui-php@DESKTOP-PSVFMK8",[[-1,726,"\n"],[1,727,"#"]],[726,726],[727,727]]],[1573625255983,["sirui-php@DESKTOP-PSVFMK8",[[1,727,"# \\"]],[727,727],[730,730]]],[1573625259231,["sirui-php@DESKTOP-PSVFMK8",[[1,730,"Http\\Request "]],[730,730],[743,743]]],[1573625259519,["sirui-php@DESKTOP-PSVFMK8",[[1,743,"\n\n"]],[743,743],[744,744]]],[1573625266846,["sirui-php@DESKTOP-PSVFMK8",[[1,745,"\n"]],[744,744],[745,745]]],[1573625267160,["sirui-php@DESKTOP-PSVFMK8",[[1,745,"`Http`请求对象，保存了`Http`客户端请求的相关信息，包括`GET`、`POST`、`COOKIE`、`Header`等。\n\n*   `Request`对象销毁时会自动删除上传的临时文件\n*   请勿使用`&`符号引用`$request`对象"]],[745,745],[870,870]]],[1573625267930,["sirui-php@DESKTOP-PSVFMK8",[[1,871,"* \n"]],[870,870],[873,873]]],[1573625269047,["sirui-php@DESKTOP-PSVFMK8",[[-1,871,"* "]],[873,873],[871,871]]],[1573625274257,["sirui-php@DESKTOP-PSVFMK8",[[1,872,"\n"]],[871,871],[872,872]]],[1573625274407,["sirui-php@DESKTOP-PSVFMK8",[[1,872,"*   [Http\\Request->$header](https://wiki.swoole.com/wiki/page/332.html)\n*   [Http\\Request->$server](https://wiki.swoole.com/wiki/page/341.html)\n*   [Http\\Request->$get](https://wiki.swoole.com/wiki/page/333.html)\n*   [Http\\Request->$post](https://wiki.swoole.com/wiki/page/334.html)\n*   [Http\\Request->$cookie](https://wiki.swoole.com/wiki/page/335.html)\n*   [Http\\Request->$files](https://wiki.swoole.com/wiki/page/428.html)\n*   [Http\\Request->rawContent](https://wiki.swoole.com/wiki/page/375.html)\n*   [Http\\Request->getData](https://wiki.swoole.com/wiki/page/876.html)"]],[872,872],[1444,1444]]],[1573625281823,["sirui-php@DESKTOP-PSVFMK8",[[-1,872,"*"]],[873,873],[872,872]]],[1573625282104,["sirui-php@DESKTOP-PSVFMK8",[[1,872,"1."]],[872,872],[874,874]]],[1573625284079,["sirui-php@DESKTOP-PSVFMK8",[[-1,945,"*"]],[946,946],[945,945]]],[1573625284305,["sirui-php@DESKTOP-PSVFMK8",[[1,945,"2."]],[945,945],[947,947]]],[1573625285536,["sirui-php@DESKTOP-PSVFMK8",[[-1,1018,"* "]],[1020,1020],[1018,1018]]],[1573625285883,["sirui-php@DESKTOP-PSVFMK8",[[1,1018,"3."]],[1018,1018],[1020,1020]]],[1573625287183,["sirui-php@DESKTOP-PSVFMK8",[[-1,1087,"*"]],[1088,1088],[1087,1087]]],[1573625287456,["sirui-php@DESKTOP-PSVFMK8",[[1,1087,"4."]],[1087,1087],[1089,1089]]],[1573625288511,["sirui-php@DESKTOP-PSVFMK8",[[-1,1158,"* "]],[1160,1160],[1158,1158]]],[1573625288872,["sirui-php@DESKTOP-PSVFMK8",[[1,1158,"5."]],[1158,1158],[1160,1160]]],[1573625289882,["sirui-php@DESKTOP-PSVFMK8",[[-1,1230,"* "]],[1232,1232],[1230,1230]]],[1573625290160,["sirui-php@DESKTOP-PSVFMK8",[[1,1230,"5."]],[1230,1230],[1232,1232]]],[1573625290915,["sirui-php@DESKTOP-PSVFMK8",[[-1,1230,"5."]],[1232,1232],[1230,1230]]],[1573625291160,["sirui-php@DESKTOP-PSVFMK8",[[1,1230,"6."]],[1230,1230],[1232,1232]]],[1573625292526,["sirui-php@DESKTOP-PSVFMK8",[[-1,1301,"* "]],[1303,1303],[1301,1301]]],[1573625292891,["sirui-php@DESKTOP-PSVFMK8",[[1,1301,"7/"]],[1301,1301],[1303,1303]]],[1573625293607,["sirui-php@DESKTOP-PSVFMK8",[[-1,1302,"/"]],[1303,1303],[1302,1302]]],[1573625293918,["sirui-php@DESKTOP-PSVFMK8",[[1,1302,"."]],[1302,1302],[1303,1303]]],[1573625295775,["sirui-php@DESKTOP-PSVFMK8",[[-1,1376,"* "]],[1378,1378],[1376,1376]]],[1573625296210,["sirui-php@DESKTOP-PSVFMK8",[[1,1376,"8."]],[1376,1376],[1378,1378]]],[1573625299215,["sirui-php@DESKTOP-PSVFMK8",[[-1,874,"   "]],[877,877],[874,874]]],[1573625299752,["sirui-php@DESKTOP-PSVFMK8",[[1,874," "]],[874,874],[875,875]]],[1573625303326,["sirui-php@DESKTOP-PSVFMK8",[[-1,945,"   "]],[945,948],[945,945]]],[1573625303440,["sirui-php@DESKTOP-PSVFMK8",[[1,945," "]],[945,945],[946,946]]],[1573625305143,["sirui-php@DESKTOP-PSVFMK8",[[-1,1016,"  "]],[1017,1018],[1016,1016]]],[1573625305684,["sirui-php@DESKTOP-PSVFMK8",[[1,1016," "]],[1016,1016],[1017,1017]]],[1573625308047,["sirui-php@DESKTOP-PSVFMK8",[[-1,1084,"   "]],[1087,1087],[1084,1084]]],[1573625310656,["sirui-php@DESKTOP-PSVFMK8",[[1,1084,"  "]],[1084,1084],[1086,1086]]],[1573625311519,["sirui-php@DESKTOP-PSVFMK8",[[-1,1085," "]],[1086,1086],[1085,1085]]],[1573625312736,["sirui-php@DESKTOP-PSVFMK8",[[-1,1154," "]],[1155,1155],[1154,1154]]],[1573625313648,["sirui-php@DESKTOP-PSVFMK8",[[-1,1225," "]],[1226,1226],[1225,1225]]],[1573625314509,["sirui-php@DESKTOP-PSVFMK8",[[-1,1295," "]],[1296,1296],[1295,1295]]],[1573625315407,["sirui-php@DESKTOP-PSVFMK8",[[-1,1369," "]],[1370,1370],[1369,1369]]],[1573625318391,["sirui-php@DESKTOP-PSVFMK8",[[1,1437,"9. \n"]],[1436,1436],[1440,1440]]],[1573625318559,["sirui-php@DESKTOP-PSVFMK8",[[-1,1437,"9. "]],[1440,1440],[1438,1438]]],[1573625319047,["sirui-php@DESKTOP-PSVFMK8",[[1,1438,"\n"]],[1438,1438],[1439,1439]]],[1573625319603,["sirui-php@DESKTOP-PSVFMK8",[[-1,1438,"\n"],[1,1439,"#"]],[1439,1439],[1439,1439]]],[1573625323091,["sirui-php@DESKTOP-PSVFMK8",[[1,1439,"# \\Http\\Requ"]],[1439,1439],[1451,1451]]],[1573625323672,["sirui-php@DESKTOP-PSVFMK8",[[-1,1448,"equ"]],[1451,1451],[1448,1448]]],[1573625323833,["sirui-php@DESKTOP-PSVFMK8",[[1,1448,"s"]],[1448,1448],[1449,1449]]],[1573625324502,["sirui-php@DESKTOP-PSVFMK8",[[-1,1448,"s"]],[1449,1449],[1448,1448]]],[1573625325832,["sirui-php@DESKTOP-PSVFMK8",[[1,1448,"esponse"]],[1448,1448],[1455,1455]]],[1573625326226,["sirui-php@DESKTOP-PSVFMK8",[[1,1455,"\n\n"]],[1455,1455],[1456,1456]]],[1573625332930,["sirui-php@DESKTOP-PSVFMK8",[[1,1456,"`Http`响应对象，通过调用此对象的方法，实现`Http`响应发送。\n\n*   当`Response`对象销毁时，如果未调用`end`发送`Http`响应，底层会自动执行`end`\n*   请勿使用`&`符号引用`$response`对象"]],[1456,1456],[1576,1576]]],[1573625387008,["sirui-php@DESKTOP-PSVFMK8",[[1,1577,"* \n"]],[1576,1576],[1579,1579]]],[1573625387190,["sirui-php@DESKTOP-PSVFMK8",[[-1,1577,"* "]],[1579,1579],[1578,1578]]],[1573625388584,["sirui-php@DESKTOP-PSVFMK8",[[1,1578,"\n"]],[1578,1578],[1579,1579]]],[1573625388870,["sirui-php@DESKTOP-PSVFMK8",[[1,1579,"1. Http\\Response->header\n2. Http\\Response->cookie\n3. Http\\Response->status\n4. Http\\Response->gzip\n5. Http\\Response->redirect\n6. Http\\Response->write\n7. Http\\Response->sendfile\n8. Http\\Response->end\n9. Http\\Response->detach\n10. Http\\Response->upgrade\n11. Http\\Response->recv\n12. Http\\Response->push\n13. Http\\Response->close\n14. Http\\Response::create"]],[1579,1579],[1927,1927]]],[1573625399700,["sirui-php@DESKTOP-PSVFMK8",[[-1,1578,"\n1. "],[1,1582,"*   ["],[-1,1603,"\n2. "],[1,1607,"](https://wiki.swoole.com/wiki/page/336.html)\n*   ["],[-1,1628,"\n3. "],[1,1632,"](https://wiki.swoole.com/wiki/page/337.html)\n*   ["],[-1,1653,"\n4. "],[1,1657,"](https://wiki.swoole.com/wiki/page/338.html)\n*   ["],[-1,1676,"\n5. "],[1,1680,"](https://wiki.swoole.com/wiki/page/410.html)\n*   ["],[-1,1703,"\n6. "],[1,1707,"](https://wiki.swoole.com/wiki/page/927.html)\n*   ["],[-1,1727,"\n7. "],[1,1731,"](https://wiki.swoole.com/wiki/page/403.html)\n*   ["],[-1,1754,"\n8. "],[1,1758,"](https://wiki.swoole.com/wiki/page/540.html)\n*   ["],[-1,1776,"\n"],[1,1777,"](https://wiki.swoole.com/wiki/page/33"],[1,1779,"html)\n*"],[1,1780,"  ["],[-1,1801,"\n10. "],[1,1806,"](https://wiki.swoole.com/wiki/page/925.html)\n*   ["],[-1,1828,"\n"],[1,1829,"](https://wiki.swoole.com/wiki/page/"],[1,1831,"16"],[1,1832,"html)\n*  "],[1,1833,"["],[-1,1852,"\n12. "],[1,1857,"](https://wiki.swoole.com/wiki/page/1117.html)\n*   ["],[-1,1876,"\n13. "],[1,1881,"](https://wiki.swoole.com/wiki/page/1118.html)\n*   ["],[-1,1901,"\n14. "],[1,1906,"](https://wiki.swoole.com/wiki/page/1530.html)\n*   ["],[1,1927,"](https://wiki.swoole.com/wiki/page/926.html)"]],[1578,1927],[2583,2583]]],[1573625403046,["sirui-php@DESKTOP-PSVFMK8",[[-1,1578,"*"]],[1579,1579],[1578,1578]]],[1573625403312,["sirui-php@DESKTOP-PSVFMK8",[[1,1578,"1."]],[1578,1578],[1580,1580]]],[1573625404030,["sirui-php@DESKTOP-PSVFMK8",[[-1,1579,"."]],[1580,1580],[1579,1579]]],[1573625404637,["sirui-php@DESKTOP-PSVFMK8",[[1,1579,"."]],[1579,1579],[1580,1580]]],[1573625405102,["sirui-php@DESKTOP-PSVFMK8",[[-1,1578,"1."]],[1580,1580],[1578,1578]]],[1573625406185,["sirui-php@DESKTOP-PSVFMK8",[[1,1578,"1."]],[1578,1578],[1580,1580]]],[1573625408208,["sirui-php@DESKTOP-PSVFMK8",[[-1,1651,"*"]],[1652,1652],[1651,1651]]],[1573625408619,["sirui-php@DESKTOP-PSVFMK8",[[1,1651,"2."]],[1651,1651],[1653,1653]]],[1573625409903,["sirui-php@DESKTOP-PSVFMK8",[[-1,1724,"*"]],[1725,1725],[1724,1724]]],[1573625410028,["sirui-php@DESKTOP-PSVFMK8",[[1,1724,"=3"]],[1724,1724],[1726,1726]]],[1573625410571,["sirui-php@DESKTOP-PSVFMK8",[[-1,1724,"=3"]],[1726,1726],[1724,1724]]],[1573625411071,["sirui-php@DESKTOP-PSVFMK8",[[1,1724,"3."]],[1724,1724],[1726,1726]]],[1573625412257,["sirui-php@DESKTOP-PSVFMK8",[[-1,1797,"*"]],[1798,1798],[1797,1797]]],[1573625412504,["sirui-php@DESKTOP-PSVFMK8",[[1,1797,"4."]],[1797,1797],[1799,1799]]],[1573625414278,["sirui-php@DESKTOP-PSVFMK8",[[-1,1868,"*"]],[1869,1869],[1868,1868]]],[1573625414530,["sirui-php@DESKTOP-PSVFMK8",[[1,1868,"5."]],[1868,1868],[1870,1870]]],[1573625415666,["sirui-php@DESKTOP-PSVFMK8",[[-1,1943,"*"]],[1944,1944],[1943,1943]]],[1573625416200,["sirui-php@DESKTOP-PSVFMK8",[[1,1943,"6."]],[1943,1943],[1945,1945]]],[1573625417575,["sirui-php@DESKTOP-PSVFMK8",[[-1,2015,"*"]],[2016,2016],[2015,2015]]],[1573625419249,["sirui-php@DESKTOP-PSVFMK8",[[1,2015,"7."]],[2015,2015],[2017,2017]]],[1573625420751,["sirui-php@DESKTOP-PSVFMK8",[[-1,2090,"*"]],[2091,2091],[2090,2090]]],[1573625421360,["sirui-php@DESKTOP-PSVFMK8",[[1,2090,"8."]],[2090,2090],[2092,2092]]],[1573625422710,["sirui-php@DESKTOP-PSVFMK8",[[-1,2160,"*"]],[2161,2161],[2160,2160]]],[1573625423243,["sirui-php@DESKTOP-PSVFMK8",[[1,2160,"9."]],[2160,2160],[2162,2162]]],[1573625424878,["sirui-php@DESKTOP-PSVFMK8",[[-1,2233,"*"]],[2234,2234],[2233,2233]]],[1573625425696,["sirui-php@DESKTOP-PSVFMK8",[[1,2233,"11."]],[2233,2233],[2236,2236]]],[1573625427417,["sirui-php@DESKTOP-PSVFMK8",[[-1,2309,"*"]],[2310,2310],[2309,2309]]],[1573625427843,["sirui-php@DESKTOP-PSVFMK8",[[1,2309,"12、"]],[2309,2309],[2312,2312]]],[1573625428384,["sirui-php@DESKTOP-PSVFMK8",[[-1,2311,"、"]],[2312,2312],[2311,2311]]],[1573625428576,["sirui-php@DESKTOP-PSVFMK8",[[1,2311,"。"]],[2311,2311],[2312,2312]]],[1573625429446,["sirui-php@DESKTOP-PSVFMK8",[[-1,2311,"。"]],[2312,2312],[2311,2311]]],[1573625430761,["sirui-php@DESKTOP-PSVFMK8",[[1,2311,"."]],[2311,2311],[2312,2312]]],[1573625432320,["sirui-php@DESKTOP-PSVFMK8",[[-1,2382,"*"]],[2383,2383],[2382,2382]]],[1573625432707,["sirui-php@DESKTOP-PSVFMK8",[[1,2382,"13/"]],[2382,2382],[2385,2385]]],[1573625433303,["sirui-php@DESKTOP-PSVFMK8",[[-1,2384,"/"]],[2385,2385],[2384,2384]]],[1573625433484,["sirui-php@DESKTOP-PSVFMK8",[[1,2384,","]],[2384,2384],[2385,2385]]],[1573625434043,["sirui-php@DESKTOP-PSVFMK8",[[-1,2384,","]],[2385,2385],[2384,2384]]],[1573625434275,["sirui-php@DESKTOP-PSVFMK8",[[1,2384,"."]],[2384,2384],[2385,2385]]],[1573625435855,["sirui-php@DESKTOP-PSVFMK8",[[-1,2455,"*"]],[2456,2456],[2455,2455]]],[1573625436228,["sirui-php@DESKTOP-PSVFMK8",[[1,2455,"14/"]],[2455,2455],[2458,2458]]],[1573625436632,["sirui-php@DESKTOP-PSVFMK8",[[-1,2457,"/"]],[2458,2458],[2457,2457]]],[1573625436816,["sirui-php@DESKTOP-PSVFMK8",[[1,2457,"."]],[2457,2457],[2458,2458]]],[1573625438393,["sirui-php@DESKTOP-PSVFMK8",[[-1,2529,"*"]],[2530,2530],[2529,2529]]],[1573625439296,["sirui-php@DESKTOP-PSVFMK8",[[1,2529,"15."]],[2529,2529],[2532,2532]]],[1573625455247,["sirui-php@DESKTOP-PSVFMK8",[[1,2602,"\n16. "]],[2602,2602],[2607,2607]]],[1573625455392,["sirui-php@DESKTOP-PSVFMK8",[[-1,2603,"16. "],[1,2607,"\n\n"]],[2607,2607],[2604,2604]]],[1573625455518,["sirui-php@DESKTOP-PSVFMK8",[[1,2605,"\n"]],[2604,2604],[2605,2605]]],[1573625456620,["sirui-php@DESKTOP-PSVFMK8",[[-1,2605,"\n"],[1,2606,"#"]],[2605,2605],[2606,2606]]],[1573625458565,["sirui-php@DESKTOP-PSVFMK8",[[1,2606,"# Option"]],[2606,2606],[2614,2614]]],[1573625459225,["sirui-php@DESKTOP-PSVFMK8",[[1,2614,"\n\n"]],[2614,2614],[2615,2615]]],[1573625459832,["sirui-php@DESKTOP-PSVFMK8",[[1,2615,"*   [upload_tmp_dir](https://wiki.swoole.com/wiki/page/p-upload_tmp_dir.html)\n*   [http_parse_post](https://wiki.swoole.com/wiki/page/p-http_parse_post.html)\n*   [http_parse_cookie](https://wiki.swoole.com/wiki/page/1098.html)\n*   [http_compression](https://wiki.swoole.com/wiki/page/p-http_compression.html)\n*   [document_root](https://wiki.swoole.com/wiki/page/783.html)\n*   [enable_static_handler](https://wiki.swoole.com/wiki/page/p-enable_static_handler.html)\n*   [static_handler_locations](https://wiki.swoole.com/wiki/page/p-static_handler_locations.html)"]],[2615,2615],[3177,3177]]]],null,"sirui-php@DESKTOP-PSVFMK8"]]}