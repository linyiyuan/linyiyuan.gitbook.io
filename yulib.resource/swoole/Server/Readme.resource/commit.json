{"compress":true,"commitItems":[["56890ffc-c58f-43ac-bb4b-a1398043c8aa",1572487408844,"",[[1572487351416,["sirui-php@DESKTOP-PSVFMK8",[[1,0,"# Readme\n\n\n\n"]],[0,0],[11,11]]],[1572487352777,["sirui-php@DESKTOP-PSVFMK8",[[-1,0,"# Readme\n\n\n\n"]],[0,12],[0,0]]],[1572487375258,["sirui-php@DESKTOP-PSVFMK8",[[1,0,"## ji"]],[0,0],[5,5]]],[1572487375870,["sirui-php@DESKTOP-PSVFMK8",[[-1,3,"ji"]],[5,5],[3,3]]],[1572487378150,["sirui-php@DESKTOP-PSVFMK8",[[1,3,"导言"]],[3,3],[5,5]]],[1572487378312,["sirui-php@DESKTOP-PSVFMK8",[[1,5,"\n\n"]],[5,5],[6,6]]],[1572487380513,["sirui-php@DESKTOP-PSVFMK8",[[-1,6,"\n"],[1,7,"Swoole"]],[6,6],[12,12]]],[1572487407472,["sirui-php@DESKTOP-PSVFMK8",[[1,12," 的Server可以创建一个异步服务器程序，支持TCP，UDP，UNIXSOCKET 3"]],[12,12],[56,56]]],[1572487422734,["sirui-php@DESKTOP-PSVFMK8",[[1,56,"种协议，支持IPV4，IPV6，支持SSL、"]],[56,56],[78,78]]],[1572487423304,["sirui-php@DESKTOP-PSVFMK8",[[-1,77,"、"]],[78,78],[77,77]]],[1572487423634,["sirui-php@DESKTOP-PSVFMK8",[[1,77,"、"]],[77,77],[78,78]]],[1572487424199,["sirui-php@DESKTOP-PSVFMK8",[[-1,77,"、"]],[78,78],[77,77]]],[1572487429222,["sirui-php@DESKTOP-PSVFMK8",[[1,77,"/TLS单上"]],[77,77],[83,83]]],[1572487431839,["sirui-php@DESKTOP-PSVFMK8",[[-1,81,"单上"]],[83,83],[81,81]]],[1572487434826,["sirui-php@DESKTOP-PSVFMK8",[[1,81,"大象"]],[81,81],[83,83]]],[1572487435112,["sirui-php@DESKTOP-PSVFMK8",[[-1,81,"大象"]],[83,83],[81,81]]],[1572487446352,["sirui-php@DESKTOP-PSVFMK8",[[1,81,"单向双向证书的睡到"]],[81,81],[90,90]]],[1572487447646,["sirui-php@DESKTOP-PSVFMK8",[[-1,88,"睡到"]],[90,90],[88,88]]],[1572487449537,["sirui-php@DESKTOP-PSVFMK8",[[1,88,"睡到"]],[88,88],[90,90]]],[1572487449966,["sirui-php@DESKTOP-PSVFMK8",[[-1,88,"睡到"]],[90,90],[88,88]]],[1572487452851,["sirui-php@DESKTOP-PSVFMK8",[[1,88,"隧道加密"]],[88,88],[92,92]]],[1572487485772,["sirui-php@DESKTOP-PSVFMK8",[[1,92,"，"]],[92,92],[93,93]]],[1572487499101,["sirui-php@DESKTOP-PSVFMK8",[[-1,92,"，"]],[93,93],[92,92]]],[1572487499400,["sirui-php@DESKTOP-PSVFMK8",[[1,92,"。"]],[92,92],[93,93]]],[1572487513478,["sirui-php@DESKTOP-PSVFMK8",[[1,93,"\n\n"]],[93,93],[94,94]]],[1572487514094,["sirui-php@DESKTOP-PSVFMK8",[[1,95,"\n"]],[94,94],[95,95]]],[1572487516043,["sirui-php@DESKTOP-PSVFMK8",[[-1,95,"\n"],[1,96,"注意"]],[95,95],[97,97]]],[1572487518415,["sirui-php@DESKTOP-PSVFMK8",[[1,97,"： ****"]],[97,97],[101,101]]],[1572487525065,["sirui-php@DESKTOP-PSVFMK8",[[1,101,"请勿在使用"]],[101,101],[106,106]]],[1572487533404,["sirui-php@DESKTOP-PSVFMK8",[[1,106,"Server创建之前使用"]],[106,106],[118,118]]],[1572487534902,["sirui-php@DESKTOP-PSVFMK8",[[-1,116,"使用"]],[118,118],[116,116]]],[1572487574064,["sirui-php@DESKTOP-PSVFMK8",[[1,116,"调用其他异步IO的API，否则将会创建失败。可以在Server启动后OnWorkerStart回调函数中使用"]],[116,116],[170,170]]],[1572487576466,["sirui-php@DESKTOP-PSVFMK8",[[1,172,"\n\n"]],[172,172],[173,173]]],[1572487576625,["sirui-php@DESKTOP-PSVFMK8",[[1,174,"\n"]],[173,173],[174,174]]],[1572487576983,["sirui-php@DESKTOP-PSVFMK8",[[1,174,"  "]],[174,174],[176,176]]],[1572487577638,["sirui-php@DESKTOP-PSVFMK8",[[-1,175," "]],[176,176],[175,175]]],[1572487578323,["sirui-php@DESKTOP-PSVFMK8",[[1,175,"》 "]],[175,175],[177,177]]],[1572487578903,["sirui-php@DESKTOP-PSVFMK8",[[-1,175,"》 "]],[177,177],[175,175]]],[1572487584994,["sirui-php@DESKTOP-PSVFMK8",[[1,175,"> Servershi"]],[175,175],[186,186]]],[1572487585702,["sirui-php@DESKTOP-PSVFMK8",[[-1,183,"shi"]],[186,186],[183,183]]],[1572487586993,["sirui-php@DESKTOP-PSVFMK8",[[1,183," 只能"]],[183,183],[186,186]]],[1572487603344,["sirui-php@DESKTOP-PSVFMK8",[[1,186,"作用于php-cli环境中，其他环境会抛出致命错误"]],[186,186],[211,211]]],[1572487605976,["sirui-php@DESKTOP-PSVFMK8",[[1,212," \n"]],[211,211],[213,213]]],[1572487606168,["sirui-php@DESKTOP-PSVFMK8",[[-1,212," "],[1,213,"\n"]],[213,213],[213,213]]],[1572487606342,["sirui-php@DESKTOP-PSVFMK8",[[1,214,"\n"]],[213,213],[214,214]]],[1572487606946,["sirui-php@DESKTOP-PSVFMK8",[[-1,214,"\n"],[1,215,"#"]],[214,214],[215,215]]],[1572487609585,["sirui-php@DESKTOP-PSVFMK8",[[1,215,"# kais"]],[215,215],[221,221]]],[1572487610281,["sirui-php@DESKTOP-PSVFMK8",[[-1,217,"kais"]],[221,221],[217,217]]],[1572487610945,["sirui-php@DESKTOP-PSVFMK8",[[1,217,"kai"]],[217,217],[220,220]]],[1572487611622,["sirui-php@DESKTOP-PSVFMK8",[[-1,217,"kai"]],[220,220],[217,217]]],[1572487677905,["sirui-php@DESKTOP-PSVFMK8",[[1,217,"开始"]],[217,217],[219,219]]],[1572487681241,["sirui-php@DESKTOP-PSVFMK8",[[-1,217,"开始"]],[219,219],[217,217]]],[1572487692376,["sirui-php@DESKTOP-PSVFMK8",[[1,217,"起步"]],[217,217],[219,219]]],[1572487692510,["sirui-php@DESKTOP-PSVFMK8",[[1,219,"\n\n"]],[219,219],[220,220]]],[1572487692919,["sirui-php@DESKTOP-PSVFMK8",[[1,221,"\n"]],[220,220],[221,221]]],[1572487693353,["sirui-php@DESKTOP-PSVFMK8",[[-1,221,"\n"],[1,222,"#"]],[221,221],[222,222]]],[1572487698587,["sirui-php@DESKTOP-PSVFMK8",[[1,222,"## 构建Server短信"]],[222,222],[235,235]]],[1572487699094,["sirui-php@DESKTOP-PSVFMK8",[[-1,233,"短信"]],[235,235],[233,233]]],[1572487700281,["sirui-php@DESKTOP-PSVFMK8",[[1,233,"对象"]],[233,233],[235,235]]],[1572487700416,["sirui-php@DESKTOP-PSVFMK8",[[1,235,"\n\n"]],[235,235],[236,236]]],[1572487702680,["sirui-php@DESKTOP-PSVFMK8",[[-1,236,"\n"],[1,237,"第一个"]],[236,236],[239,239]]],[1572487703589,["sirui-php@DESKTOP-PSVFMK8",[[-1,237,"一个"]],[239,239],[237,237]]],[1572487703750,["sirui-php@DESKTOP-PSVFMK8",[[-1,236,"第"],[1,237,"\n"]],[237,237],[236,236]]],[1572487706119,["sirui-php@DESKTOP-PSVFMK8",[[-1,236,"\n"],[1,237,"第一步"]],[236,236],[239,239]]],[1572487706905,["sirui-php@DESKTOP-PSVFMK8",[[1,239,"先"]],[239,239],[240,240]]],[1572487712968,["sirui-php@DESKTOP-PSVFMK8",[[1,240,"构建一个Server对象"]],[240,240],[252,252]]],[1572487713039,["sirui-php@DESKTOP-PSVFMK8",[[1,252,"\n\n"]],[252,252],[253,253]]],[1572487713671,["sirui-php@DESKTOP-PSVFMK8",[[1,254,"\n"]],[253,253],[254,254]]],[1572487714239,["sirui-php@DESKTOP-PSVFMK8",[[-1,254,"\n"],[1,255,"`"]],[254,254],[255,255]]],[1572487714767,["sirui-php@DESKTOP-PSVFMK8",[[1,255,"``"]],[255,255],[257,257]]],[1572487714792,["sirui-php@DESKTOP-PSVFMK8",[[1,257,"language\n```\n"]],[257,257],[257,265]]],[1572487714935,["sirui-php@DESKTOP-PSVFMK8",[[-1,257,"language"],[1,265,"p"]],[257,265],[258,258]]],[1572487715135,["sirui-php@DESKTOP-PSVFMK8",[[1,258,"hp"]],[258,258],[260,260]]],[1572487715686,["sirui-php@DESKTOP-PSVFMK8",[[1,261,"\n"]],[260,260],[261,261]]],[1572487721962,["sirui-php@DESKTOP-PSVFMK8",[[1,261,"$server = new Swoole/"]],[261,261],[282,282]]],[1572487722983,["sirui-php@DESKTOP-PSVFMK8",[[-1,281,"/"]],[282,282],[281,281]]],[1572487724807,["sirui-php@DESKTOP-PSVFMK8",[[1,281,"\\Server()"]],[281,281],[290,290]]],[1572487729192,["sirui-php@DESKTOP-PSVFMK8",[[1,289,"0.0.0.0"]],[289,289],[296,296]]],[1572487733951,["sirui-php@DESKTOP-PSVFMK8",[[-1,289,"0.0.0.0"],[1,296,"'"]],[289,296],[290,290]]],[1572487734576,["sirui-php@DESKTOP-PSVFMK8",[[1,290,"'"]],[290,290],[291,291]]],[1572487736304,["sirui-php@DESKTOP-PSVFMK8",[[1,290,"0.0.0.0"]],[290,290],[297,297]]],[1572487738472,["sirui-php@DESKTOP-PSVFMK8",[[1,298,", 952"]],[298,298],[303,303]]],[1572487739733,["sirui-php@DESKTOP-PSVFMK8",[[-1,302,"2"]],[303,303],[302,302]]],[1572487753009,["sirui-php@DESKTOP-PSVFMK8",[[1,302,"01, SWOOLE_BASE, SWOOLE_SOCK_TCP"]],[302,302],[334,334]]],[1572487754346,["sirui-php@DESKTOP-PSVFMK8",[[1,335,";"]],[335,335],[336,336]]],[1572487755717,["sirui-php@DESKTOP-PSVFMK8",[[1,341,"\n"]],[340,340],[341,341]]],[1572487755896,["sirui-php@DESKTOP-PSVFMK8",[[1,342,"\n"]],[341,341],[342,342]]],[1572487757999,["sirui-php@DESKTOP-PSVFMK8",[[-1,342,"\n"],[1,343,"#"]],[342,342],[343,343]]],[1572487759337,["sirui-php@DESKTOP-PSVFMK8",[[1,343,"## shz"]],[343,343],[349,349]]],[1572487759990,["sirui-php@DESKTOP-PSVFMK8",[[-1,346,"shz"]],[349,349],[346,346]]],[1572487760808,["sirui-php@DESKTOP-PSVFMK8",[[1,346,"she"]],[346,346],[349,349]]],[1572487761533,["sirui-php@DESKTOP-PSVFMK8",[[-1,346,"she"]],[349,349],[346,346]]],[1572487765309,["sirui-php@DESKTOP-PSVFMK8",[[1,346,"设置运行是"]],[346,346],[351,351]]],[1572487765716,["sirui-php@DESKTOP-PSVFMK8",[[-1,350,"是"]],[351,351],[350,350]]],[1572487767449,["sirui-php@DESKTOP-PSVFMK8",[[1,350,"时的参数"]],[350,350],[354,354]]],[1572487767646,["sirui-php@DESKTOP-PSVFMK8",[[1,354,"\n\n"]],[354,354],[355,355]]],[1572487769476,["sirui-php@DESKTOP-PSVFMK8",[[-1,355,"\n"],[1,356,"￥"]],[355,355],[356,356]]],[1572487770304,["sirui-php@DESKTOP-PSVFMK8",[[-1,355,"￥"],[1,356,"\n"]],[356,356],[355,355]]],[1572487771175,["sirui-php@DESKTOP-PSVFMK8",[[-1,355,"\n"],[1,356,"$"]],[355,355],[356,356]]],[1572487776008,["sirui-php@DESKTOP-PSVFMK8",[[1,356,"server->set()"]],[356,356],[369,369]]],[1572487777390,["sirui-php@DESKTOP-PSVFMK8",[[1,368,"\n"]],[368,368],[369,369]]],[1572487777621,["sirui-php@DESKTOP-PSVFMK8",[[1,369,"\n"]],[369,369],[370,370]]],[1572487777829,["sirui-php@DESKTOP-PSVFMK8",[[1,370,"\n"]],[370,370],[371,371]]],[1572487779014,["sirui-php@DESKTOP-PSVFMK8",[[1,372,";"]],[372,372],[373,373]]],[1572487780271,["sirui-php@DESKTOP-PSVFMK8",[[1,356,"\n"]],[356,356],[357,357]]],[1572487780794,["sirui-php@DESKTOP-PSVFMK8",[[-1,356,"\n"]],[357,357],[356,356]]],[1572487781303,["sirui-php@DESKTOP-PSVFMK8",[[1,355,"\n"]],[355,355],[356,356]]],[1572487782414,["sirui-php@DESKTOP-PSVFMK8",[[1,356,"```"]],[356,356],[359,359]]],[1572487782437,["sirui-php@DESKTOP-PSVFMK8",[[1,359,"language\n```\n"]],[359,359],[359,367]]],[1572487782527,["sirui-php@DESKTOP-PSVFMK8",[[-1,359,"language"],[1,367,"p"]],[359,367],[360,360]]],[1572487782765,["sirui-php@DESKTOP-PSVFMK8",[[1,360,"hp"]],[360,360],[362,362]]],[1572487785800,["sirui-php@DESKTOP-PSVFMK8",[[-1,367,"$server->set("],[-1,381,"\n\n);"]],[367,385],[367,367]]],[1572487786437,["sirui-php@DESKTOP-PSVFMK8",[[1,363,"\n"]],[362,362],[363,363]]],[1572487786680,["sirui-php@DESKTOP-PSVFMK8",[[1,363,"$server->set(\n\n\n);"]],[363,363],[381,381]]],[1572487788014,["sirui-php@DESKTOP-PSVFMK8",[[1,377,"  "]],[377,377],[379,379]]],[1572487791568,["sirui-php@DESKTOP-PSVFMK8",[[1,376,"["]],[376,376],[377,377]]],[1572487794214,["sirui-php@DESKTOP-PSVFMK8",[[1,382,"]"]],[382,382],[383,383]]],[1572487796541,["sirui-php@DESKTOP-PSVFMK8",[[1,380,"  "]],[379,379],[381,381]]],[1572487797305,["sirui-php@DESKTOP-PSVFMK8",[[1,381,"''"]],[381,381],[383,383]]],[1572487802617,["sirui-php@DESKTOP-PSVFMK8",[[1,382,"worker_num"]],[382,382],[392,392]]],[1572487804570,["sirui-php@DESKTOP-PSVFMK8",[[1,394," => 4,"]],[394,394],[400,400]]],[1572487804878,["sirui-php@DESKTOP-PSVFMK8",[[1,401,"   \n"]],[400,400],[404,404]]],[1572487807352,["sirui-php@DESKTOP-PSVFMK8",[[1,404,"'de"]],[404,404],[407,407]]],[1572487810640,["sirui-php@DESKTOP-PSVFMK8",[[-1,406,"e"]],[407,407],[406,406]]],[1572487820407,["sirui-php@DESKTOP-PSVFMK8",[[1,406,"aemonize' =>tr"]],[406,406],[420,420]]],[1572487820982,["sirui-php@DESKTOP-PSVFMK8",[[-1,418,"tr"]],[420,420],[418,418]]],[1572487822330,["sirui-php@DESKTOP-PSVFMK8",[[1,418," true,'"]],[418,418],[425,425]]],[1572487823079,["sirui-php@DESKTOP-PSVFMK8",[[-1,424,"'"]],[425,425],[424,424]]],[1572487823278,["sirui-php@DESKTOP-PSVFMK8",[[1,425,"   \n"]],[424,424],[428,428]]],[1572487825311,["sirui-php@DESKTOP-PSVFMK8",[[1,428,"''"]],[428,428],[430,430]]],[1572487827552,["sirui-php@DESKTOP-PSVFMK8",[[1,429,"ba"]],[429,429],[431,431]]],[1572487829847,["sirui-php@DESKTOP-PSVFMK8",[[1,431,"cklog"]],[431,431],[436,436]]],[1572487833407,["sirui-php@DESKTOP-PSVFMK8",[[1,437," => 123"]],[437,437],[444,444]]],[1572487834121,["sirui-php@DESKTOP-PSVFMK8",[[-1,443,"3"]],[444,444],[443,443]]],[1572487834359,["sirui-php@DESKTOP-PSVFMK8",[[1,443,"8"]],[443,443],[444,444]]],[1572487835686,["sirui-php@DESKTOP-PSVFMK8",[[-1,445,"\n"]],[445,445],[444,444]]],[1572487842230,["sirui-php@DESKTOP-PSVFMK8",[[1,454,"\n"]],[452,452],[453,453]]],[1572487842438,["sirui-php@DESKTOP-PSVFMK8",[[1,455,"\n"]],[453,453],[454,454]]],[1572487843849,["sirui-php@DESKTOP-PSVFMK8",[[1,454,"### ## 注册事件回调函数"]],[454,454],[469,469]]],[1572487847470,["sirui-php@DESKTOP-PSVFMK8",[[-1,458,"##"]],[460,460],[458,458]]],[1572487858751,["sirui-php@DESKTOP-PSVFMK8",[[1,469,"\n"]],[467,467],[468,468]]],[1572487863374,["sirui-php@DESKTOP-PSVFMK8",[[1,468,"$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');"]],[468,468],[577,577]]],[1572487864100,["sirui-php@DESKTOP-PSVFMK8",[[-1,468,"$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');"]],[577,577],[468,468]]],[1572487865683,["sirui-php@DESKTOP-PSVFMK8",[[1,468,"`php"]],[468,468],[472,472]]],[1572487866417,["sirui-php@DESKTOP-PSVFMK8",[[-1,469,"php"]],[472,472],[469,469]]],[1572487866887,["sirui-php@DESKTOP-PSVFMK8",[[1,469,"``"]],[469,469],[471,471]]],[1572487866910,["sirui-php@DESKTOP-PSVFMK8",[[1,471,"language\n```\n"]],[471,471],[471,479]]],[1572487867063,["sirui-php@DESKTOP-PSVFMK8",[[-1,471,"language"],[1,479,"p"]],[471,479],[472,472]]],[1572487867295,["sirui-php@DESKTOP-PSVFMK8",[[1,472,"hp"]],[472,472],[474,474]]],[1572487867574,["sirui-php@DESKTOP-PSVFMK8",[[1,475,"\n"]],[474,474],[475,475]]],[1572487868048,["sirui-php@DESKTOP-PSVFMK8",[[1,475,"```\n$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');\n```"]],[475,475],[592,592]]],[1572487869182,["sirui-php@DESKTOP-PSVFMK8",[[-1,475,"```\n$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');\n```"]],[592,592],[475,475]]],[1572487873010,["sirui-php@DESKTOP-PSVFMK8",[[1,475,"```\n$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');\n```"]],[475,475],[592,592]]],[1572487873892,["sirui-php@DESKTOP-PSVFMK8",[[-1,475,"```\n$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');\n```"]],[592,592],[475,475]]],[1572487876043,["sirui-php@DESKTOP-PSVFMK8",[[-1,471,"php"],[1,475,"$serv->on('Connect', 'my_onConnect');\n$serv->on('Receive', 'my_onReceive');\n$serv->on('Close', 'my_onClose');"]],[468,479],[585,585]]],[1572487877573,["sirui-php@DESKTOP-PSVFMK8",[[1,471,"php"]],[471,471],[474,474]]],[1572487880599,["sirui-php@DESKTOP-PSVFMK8",[[1,475,"  "],[1,513,"  "],[1,551,"  "]],[475,585],[475,591]]],[1572488210782,["sirui-php@DESKTOP-PSVFMK8",[[1,468,"\n"]],[467,467],[468,468]]],[1572488212825,["sirui-php@DESKTOP-PSVFMK8",[[1,598,"\n"]],[595,595],[596,596]]],[1572488213384,["sirui-php@DESKTOP-PSVFMK8",[[1,599,"\n"]],[596,596],[597,597]]],[1572488217112,["sirui-php@DESKTOP-PSVFMK8",[[1,597,"### 启动服务"]],[597,597],[605,605]]],[1572488217254,["sirui-php@DESKTOP-PSVFMK8",[[1,608,"\n"]],[605,605],[606,606]]],[1572488221000,["sirui-php@DESKTOP-PSVFMK8",[[1,606,"··"]],[606,606],[608,608]]],[1572488221454,["sirui-php@DESKTOP-PSVFMK8",[[-1,606,"··"]],[608,608],[606,606]]],[1572488221633,["sirui-php@DESKTOP-PSVFMK8",[[1,606,"```\n$serv->start();\n```"]],[606,606],[629,629]]],[1572488223529,["sirui-php@DESKTOP-PSVFMK8",[[1,609,"php"]],[609,609],[612,612]]],[1572488224159,["sirui-php@DESKTOP-PSVFMK8",[[-1,605,"\n"]],[605,605],[605,605]]],[1572488224773,["sirui-php@DESKTOP-PSVFMK8",[[1,605,"\n"]],[605,605],[605,605]]],[1572488225320,["sirui-php@DESKTOP-PSVFMK8",[[1,606,"\n"]],[605,605],[606,606]]],[1572488228734,["sirui-php@DESKTOP-PSVFMK8",[[-1,615,"serv"]],[619,619],[615,615]]],[1572488230480,["sirui-php@DESKTOP-PSVFMK8",[[1,615,"server"]],[615,615],[621,621]]],[1572488242326,["sirui-php@DESKTOP-PSVFMK8",[[1,614,"  "]],[614,614],[616,616]]],[1572488243534,["sirui-php@DESKTOP-PSVFMK8",[[1,640,"\n"]],[637,637],[638,638]]],[1572488243743,["sirui-php@DESKTOP-PSVFMK8",[[1,641,"\n"]],[638,638],[639,639]]],[1572488243999,["sirui-php@DESKTOP-PSVFMK8",[[1,639,"## 属性列表\n\n```\n$serv->manager_pid;  //管理进程的PID，通过向管理进程发送SIGUSR1信号可实现柔性重启\n$serv->master_pid;  //主进程的PID，通过向主进程发送SIGTERM信号可安全关闭服务器\n$serv->connections; //当前服务器的客户端连接，可使用foreach遍历所有连接\n```"]],[639,639],[820,820]]],[1572488245417,["sirui-php@DESKTOP-PSVFMK8",[[1,641,"#"]],[641,641],[642,642]]],[1572488249487,["sirui-php@DESKTOP-PSVFMK8",[[1,652,"php"]],[652,652],[655,655]]],[1572488251697,["sirui-php@DESKTOP-PSVFMK8",[[1,656,"  "],[1,714,"  "],[1,770,"  "]],[656,776],[656,782]]],[1572488252655,["sirui-php@DESKTOP-PSVFMK8",[[1,658,"  "],[1,716," "],[1,718," "],[1,774,"  "]],[656,782],[656,788]]],[1572488258606,["sirui-php@DESKTOP-PSVFMK8",[[1,216,"#"]],[219,220],[220,220]]],[1572488259644,["sirui-php@DESKTOP-PSVFMK8",[[-1,216,"#"]],[220,220],[219,220]]],[1572488574511,["sirui-php@DESKTOP-PSVFMK8",[[1,838,"## 运行流程图\n\n![Swoole扩展架构图](https://wiki.swoole.com/static/uploads/swoole.jpg)\n\n## 进程/线程结构图\n\n![Swoole进程/线程结构图](https://wiki.swoole.com/static/image/process.jpg) ![进程/线程结构图2](https://wiki.swoole.com/static/uploads/wiki/201808/03/635680420659.png \"进程/线程结构图2\")"]],[838,838],[1092,1092]]],[1572488590647,["sirui-php@DESKTOP-PSVFMK8",[[1,400,"    "]],[400,400],[404,404]]],[1572488591591,["sirui-php@DESKTOP-PSVFMK8",[[1,404,"/"],[-1,999," "],[1,1000," "]],[404,404],[405,405]]],[1572488594897,["sirui-php@DESKTOP-PSVFMK8",[[1,405,"/进程数目"]],[405,405],[410,410]]],[1572488595165,["sirui-php@DESKTOP-PSVFMK8",[[-1,409,"目"]],[410,410],[409,409]]],[1572488596336,["sirui-php@DESKTOP-PSVFMK8",[[1,433,"    "]],[433,433],[437,437]]],[1572488596878,["sirui-php@DESKTOP-PSVFMK8",[[-1,436," "]],[437,437],[436,436]]],[1572488597543,["sirui-php@DESKTOP-PSVFMK8",[[1,436,"、、"]],[436,436],[438,438]]],[1572488598007,["sirui-php@DESKTOP-PSVFMK8",[[-1,436,"、、"]],[438,438],[436,436]]],[1572488603810,["sirui-php@DESKTOP-PSVFMK8",[[1,436,"//是否在后台运行"]],[436,436],[445,445]]],[1572488606062,["sirui-php@DESKTOP-PSVFMK8",[[-1,443,"运行"]],[445,445],[443,443]]],[1572488608505,["sirui-php@DESKTOP-PSVFMK8",[[1,443,"运行"]],[443,443],[445,445]]],[1572488611206,["sirui-php@DESKTOP-PSVFMK8",[[1,465,"      "]],[465,465],[471,471]]],[1572488640152,["sirui-php@DESKTOP-PSVFMK8",[[1,471,"  "]],[471,471],[473,473]]],[1572488640782,["sirui-php@DESKTOP-PSVFMK8",[[-1,472," "]],[473,473],[472,472]]],[1572488641416,["sirui-php@DESKTOP-PSVFMK8",[[1,472,"、、"]],[472,472],[474,474]]],[1572488641911,["sirui-php@DESKTOP-PSVFMK8",[[-1,472,"、、"]],[474,474],[472,472]]],[1572488642710,["sirui-php@DESKTOP-PSVFMK8",[[1,472,"//Listen队列长度"]],[472,472],[484,484]]]],null,"sirui-php@DESKTOP-PSVFMK8"],["765f35a4-dcec-4d33-aa91-e9ed81c78dd3",1572689458961,"## 导言\nSwoole 的Server可以创建一个异步服务器程序，支持TCP，UDP，UNIXSOCKET 3种协议，支持IPV4，IPV6，支持SSL/TLS单向双向证书的隧道加密。\n\n注意： **请勿在使用Server创建之前调用其他异步IO的API，否则将会创建失败。可以在Server启动后OnWorkerStart回调函数中使用**\n\n > Server 只能作用于php-cli环境中，其他环境会抛出致命错误\n\n\n## 起步\n\n### 构建Server对象\n第一步先构建一个Server对象\n\n```php\n$server = new Swoole\\Server('0.0.0.0', 9501, SWOOLE_BASE, SWOOLE_SOCK_TCP);\n```\n\n### 设置运行时的参数\n\n```php\n$server->set([\n   'worker_num'  => 4,    //进程数\n   'daemonize' => true,   //是否在后台运行\n   'backlog' => 128       //Listen队列长度\n]);\n```\n\n###  注册事件回调函数\n\n```php\n  $serv->on('Connect', 'my_onConnect');\n  $serv->on('Receive', 'my_onReceive');\n  $serv->on('Close', 'my_onClose');\n```\n\n### 启动服务\n\n```php\n  $server->start();\n```\n\n### 属性列表\n\n```php\n    $serv->manager_pid;  //管理进程的PID，通过向管理进程发送SIGUSR1信号可实现柔性重启\n    $serv->master_pid;  //主进程的PID，通过向主进程发送SIGTERM信号可安全关闭服务器\n    $serv->connections; //当前服务器的客户端连接，可使用foreach遍历所有连接\n```\n\n## 运行流程图\n\n![Swoole扩展架构图](https://wiki.swoole.com/static/uploads/swoole.jpg)\n\n## 进程/线程结构图\n\n![Swoole进程/线程结构图](https://wiki.swoole.com/static/image/process.jpg) ![进程/线程结构图2](https://wiki.swoole.com/static/uploads/wiki/201808/03/635680420659.png \"进程/线程结构图2\")\n",[[1572689431735,["sirui-php@DESKTOP-PSVFMK8",[[1,1133,"\n"]],[1132,1132],[1133,1133]]],[1572689431885,["sirui-php@DESKTOP-PSVFMK8",[[1,1134,"\n"]],[1133,1133],[1134,1134]]],[1572689432135,["sirui-php@DESKTOP-PSVFMK8",[[-1,1134,"\n"],[1,1135,"#"]],[1134,1134],[1135,1135]]],[1572689434216,["sirui-php@DESKTOP-PSVFMK8",[[1,1135,"# 注意事项"]],[1135,1135],[1141,1141]]],[1572689434557,["sirui-php@DESKTOP-PSVFMK8",[[1,1141,"\n\n"]],[1141,1141],[1142,1142]]],[1572689434711,["sirui-php@DESKTOP-PSVFMK8",[[1,1143,"\n"]],[1142,1142],[1143,1143]]],[1572689455718,["sirui-php@DESKTOP-PSVFMK8",[[-1,1135,"#"]],[1134,1134],[1134,1134]]],[1572689458280,["sirui-php@DESKTOP-PSVFMK8",[[-1,1134,"# 注意事项"]],[1134,1134],[1134,1134]]],[1572689458654,["sirui-php@DESKTOP-PSVFMK8",[[-1,1136,"\n"]],[1134,1134],[1133,1133]]],[1572690196721,["sirui-php@DESKTOP-PSVFMK8",[[-1,1135,"\n"],[1,1136,"#"]],[1135,1135],[1136,1136]]],[1572690198232,["sirui-php@DESKTOP-PSVFMK8",[[1,1136,"# shergn"]],[1136,1136],[1144,1144]]],[1572690199359,["sirui-php@DESKTOP-PSVFMK8",[[-1,1138,"shergn"]],[1144,1144],[1138,1138]]],[1572690201074,["sirui-php@DESKTOP-PSVFMK8",[[1,1138,"声明走"]],[1138,1138],[1141,1141]]],[1572690201590,["sirui-php@DESKTOP-PSVFMK8",[[-1,1138,"声明走"]],[1141,1141],[1138,1138]]],[1572690203387,["sirui-php@DESKTOP-PSVFMK8",[[1,1138,"生命周期"]],[1138,1138],[1142,1142]]],[1572690203824,["sirui-php@DESKTOP-PSVFMK8",[[1,1142,"\n\n"]],[1142,1142],[1143,1143]]],[1572690208890,["sirui-php@DESKTOP-PSVFMK8",[[1,1143,"开发`Server`程序与普通`LAMP`的`Web`编程有本质区别。在传统的`Web`编程中，`PHP`程序员只需要关注`request`到达，`request`结束即可。而在`Server`程序中程序员可以操控更大范围，变量/对象可以有四种生存周期。\n\n> 变量、对象、资源、`require/include`的文件等下面统称为对象\n\n## 程序全局期\n\n在`Server->start`之前就创建好的对象，我们称之为程序全局生命周期。这些变量在程序启动后就会一直存在，直到整个程序结束运行才会销毁。\n\n有一些服务器程序可能会连续运行数月甚至数年才会关闭/重启，那么程序全局期的对象在这段时间持续驻留在内存中的。程序全局对象所占用的内存是`Worker`进程间共享的，不会额外占用内存。\n\n这部分内存会在写时分离（`COW`），在`Worker`进程内对这些对象进行写操作时，会自动从共享内存中分离，变为**进程全局**对象。\n\n> 程序全局期`include`/`require`的代码，必须在整个程序`shutdown`时才会释放，`reload`无效\n\n## 进程全局期\n\n`Server`启动后会创建多个进程，每个`Worker`子进程处理的请求数超过`max_request`配置后，就会自动销毁。`Worker`进程启动后创建的对象（`onWorkerStart`中创建的对象），在这个子进程存活周期之内，是常驻内存的。`onConnect/onReceive/onClose` 中都可以去访问它。\n\n> 进程全局对象所占用的内存是在当前子进程内存堆的，并非共享内存。对此对象的修改仅在当前`Worker`进程中有效\n> 进程期include/require的文件，在`reload`后就会重新加载\n\n## 会话期\n\n会话期是在`onConnect`后创建，或者在第一次`onReceive`时创建，`onClose`时销毁。一个客户端连接进入后，创建的对象会常驻内存，直到此客户端离开才会销毁。\n\n在`LAMP`中，一个客户端浏览器访问多次网站，就可以理解为会话期。但传统`PHP`程序，并不能感知到。只有单次访问时使用`session_start`，访问`$_SESSION`全局变量才能得到会话期的一些信息。\n\n`Server`中会话期的对象直接是常驻内存，不需要`session_start`之类操作。可以直接访问对象，并执行对象的方法。\n\n## 请求期\n\n请求期就是指一个完整的请求发来，也就是`onReceive`收到请求开始处理，直到返回结果发送`response`。这个周期所创建的对象，会在请求完成后销毁。\n\n请求期对象与普通`PHP`程序中的对象就是一样的。请求到来时创建，请求结束后销毁。"]],[1143,1143],[2306,2306]]],[1572690216264,["sirui-php@DESKTOP-PSVFMK8",[[-1,878,"## 运行流程图\n\n![Swoole扩展架构图](https://wiki.swoole.com/static/uploads/swoole.jpg)\n\n## 进程/线程结构图\n\n![Swoole进程/线程结构图](https://wiki.swoole.com/static/image/process.jpg) ![进程/线程结构图2](https://wiki.swoole.com/static/uploads/wiki/201808/03/635680420659.png \"进程/线程结构图2\")\n"]],[878,1133],[878,878]]],[1572690217401,["sirui-php@DESKTOP-PSVFMK8",[[-1,879,"\n"]],[879,879],[878,878]]],[1572690222779,["sirui-php@DESKTOP-PSVFMK8",[[1,887,"\n"]],[886,886],[887,887]]],[1572690225343,["sirui-php@DESKTOP-PSVFMK8",[[1,2052,"\n"]],[2051,2051],[2052,2052]]],[1572690225607,["sirui-php@DESKTOP-PSVFMK8",[[1,2052,"## 运行流程图\n\n![Swoole扩展架构图](https://wiki.swoole.com/static/uploads/swoole.jpg)\n\n## 进程/线程结构图\n\n![Swoole进程/线程结构图](https://wiki.swoole.com/static/image/process.jpg) ![进程/线程结构图2](https://wiki.swoole.com/static/uploads/wiki/201808/03/635680420659.png \"进程/线程结构图2\")\n"]],[2052,2052],[2307,2307]]],[1572690238057,["sirui-php@DESKTOP-PSVFMK8",[[-1,880,"#"]],[881,881],[880,880]]],[1572690247058,["sirui-php@DESKTOP-PSVFMK8",[[1,2051,"\n"]],[2050,2050],[2051,2051]]],[1572690254601,["sirui-php@DESKTOP-PSVFMK8",[[-1,215,"#"]],[214,214],[214,214]]],[1572690255727,["sirui-php@DESKTOP-PSVFMK8",[[-1,213,"\n"]],[213,213],[212,212]]],[1572690257423,["sirui-php@DESKTOP-PSVFMK8",[[-1,0,"#"]],[0,0],[0,0]]],[1572690382866,["sirui-php@DESKTOP-PSVFMK8",[[1,2049,"\n"]],[2047,2047],[2048,2048]]],[1572690383032,["sirui-php@DESKTOP-PSVFMK8",[[1,2050,"\n"]],[2048,2048],[2049,2049]]],[1572690387500,["sirui-php@DESKTOP-PSVFMK8",[[-1,1531," "],[1,1532," "],[1,2049,"zhuy"]],[2049,2049],[2053,2053]]],[1572690388312,["sirui-php@DESKTOP-PSVFMK8",[[-1,2049,"zhuy"]],[2053,2053],[2049,2049]]],[1572690388479,["sirui-php@DESKTOP-PSVFMK8",[[-1,2050,"\n"]],[2049,2049],[2048,2048]]],[1572690388624,["sirui-php@DESKTOP-PSVFMK8",[[-1,2049,"\n"]],[2048,2048],[2047,2047]]],[1572690894129,["sirui-php@DESKTOP-PSVFMK8",[[1,2049,"\n"]],[2047,2047],[2048,2048]]],[1572690894295,["sirui-php@DESKTOP-PSVFMK8",[[1,2050,"\n"]],[2048,2048],[2049,2049]]],[1572690894496,["sirui-php@DESKTOP-PSVFMK8",[[1,2051,"\n"]],[2049,2049],[2050,2050]]],[1572690902234,["sirui-php@DESKTOP-PSVFMK8",[[1,2049,"## 事件的执行顺序"]],[2049,2049],[2059,2059]]],[1572690902887,["sirui-php@DESKTOP-PSVFMK8",[[1,2062,"\n"]],[2059,2059],[2060,2060]]],[1572690903058,["sirui-php@DESKTOP-PSVFMK8",[[1,2063,"\n"]],[2060,2060],[2061,2061]]],[1572690923634,["sirui-php@DESKTOP-PSVFMK8",[[1,2060,"# onStart"]],[2060,2060],[2069,2069]]],[1572690926394,["sirui-php@DESKTOP-PSVFMK8",[[1,2061,"##"]],[2061,2061],[2063,2063]]],[1572690927695,["sirui-php@DESKTOP-PSVFMK8",[[1,2060,"\n"]],[2059,2059],[2060,2060]]],[1572690928743,["sirui-php@DESKTOP-PSVFMK8",[[1,2076,"\n"]],[2072,2072],[2073,2073]]],[1572690937027,["sirui-php@DESKTOP-PSVFMK8",[[1,2073,"在此事件之前`Server`已进行了如下操作\n\n*   已创建了`manager`进程\n*   已创建了`worker`子进程\n*   已监听所有`TCP/UDP/UnixSocket`端口，但未开始`Accept`连接和请求\n*   已监听了定时器\n\n接下来要执行\n\n*   主`Reactor`开始接收事件，客户端可以`connect`到`Server`"]],[2073,2073],[2252,2252]]],[1572690942935,["sirui-php@DESKTOP-PSVFMK8",[[1,2073,"\n"]],[2072,2072],[2073,2073]]],[1572690946063,["sirui-php@DESKTOP-PSVFMK8",[[1,2254,"* \n"]],[2253,2253],[2256,2256]]],[1572690946280,["sirui-php@DESKTOP-PSVFMK8",[[-1,2254,"* "]],[2256,2256],[2255,2255]]],[1572690946977,["sirui-php@DESKTOP-PSVFMK8",[[1,2255,"###"]],[2255,2255],[2258,2258]]],[1572690974823,["sirui-php@DESKTOP-PSVFMK8",[[1,2261,"\n"]],[2258,2258],[2259,2259]]],[1572690975058,["sirui-php@DESKTOP-PSVFMK8",[[1,2262,"\n"]],[2259,2259],[2260,2260]]],[1572690975226,["sirui-php@DESKTOP-PSVFMK8",[[1,2260,"此事件在`Worker`进程/`Task`进程启动时发生。这里创建的对象可以在进程生命周期内使用"]],[2260,2260],[2308,2308]]],[1572690982064,["sirui-php@DESKTOP-PSVFMK8",[[1,2258,"# onWorkerStart"]],[2258,2258],[2273,2273]]],[1572690984129,["sirui-php@DESKTOP-PSVFMK8",[[-1,2258,"#"]],[2255,2255],[2255,2255]]],[1572690989696,["sirui-php@DESKTOP-PSVFMK8",[[1,2325,"\n"]],[2323,2323],[2324,2324]]],[1572690991104,["sirui-php@DESKTOP-PSVFMK8",[[1,2323,"you"]],[2323,2323],[2326,2326]]],[1572690991778,["sirui-php@DESKTOP-PSVFMK8",[[-1,2323,"you"]],[2326,2326],[2323,2323]]],[1572690994802,["sirui-php@DESKTOP-PSVFMK8",[[1,2323,"由于# onWorkerStart"]],[2323,2323],[2340,2340]]],[1572690995378,["sirui-php@DESKTOP-PSVFMK8",[[-1,2323,"由于# onWorkerStart"]],[2340,2340],[2323,2323]]],[1572691002329,["sirui-php@DESKTOP-PSVFMK8",[[1,2323,"OnWorkerStart gen "]],[2323,2323],[2341,2341]]],[1572691003135,["sirui-php@DESKTOP-PSVFMK8",[[-1,2337,"gen "]],[2341,2341],[2337,2337]]],[1572691010657,["sirui-php@DESKTOP-PSVFMK8",[[1,2337,"跟Onstart 在不同进程内 "]],[2337,2337],[2353,2353]]],[1572691010967,["sirui-php@DESKTOP-PSVFMK8",[[-1,2352," "]],[2353,2353],[2352,2352]]],[1572691018587,["sirui-php@DESKTOP-PSVFMK8",[[1,2352,"，所以  `onWorkerStart`/`onStart`是并发执行的，没有先后顺序"]],[2352,2352],[2395,2395]]],[1572691025538,["sirui-php@DESKTOP-PSVFMK8",[[-1,2355,"  `onWorkerStart`/`onStart`"]],[2358,2382],[2355,2355]]],[1572691057592,["sirui-php@DESKTOP-PSVFMK8",[[1,2254,"* \n"]],[2253,2253],[2256,2256]]],[1572691057727,["sirui-php@DESKTOP-PSVFMK8",[[-1,2254,"* "]],[2256,2256],[2255,2255]]],[1572691057841,["sirui-php@DESKTOP-PSVFMK8",[[1,2255,"在`onStart`中创建的**全局资源对象**不能在`Worker`进程中被使用，因为发生`onStart`调用时，worker进程已经创建好了\n新创建的对象在主进程内，`Worker`进程无法访问到此内存区域\n因此全局对象创建的代码需要放置在`Server::start`之前"]],[2255,2255],[2395,2395]]],[1572691073834,["sirui-php@DESKTOP-PSVFMK8",[[1,2396,"\n"]],[2395,2395],[2396,2396]]],[1572691075971,["sirui-php@DESKTOP-PSVFMK8",[[1,2255,"》 "]],[2255,2255],[2257,2257]]],[1572691076561,["sirui-php@DESKTOP-PSVFMK8",[[-1,2255,"》 "]],[2257,2257],[2255,2255]]],[1572691076785,["sirui-php@DESKTOP-PSVFMK8",[[-1,2254,"\n"]],[2255,2255],[2254,2254]]],[1572691077521,["sirui-php@DESKTOP-PSVFMK8",[[1,2254,"\n"]],[2254,2254],[2255,2255]]],[1572691078057,["sirui-php@DESKTOP-PSVFMK8",[[1,2255,"> "]],[2255,2255],[2257,2257]]],[1572691082154,["sirui-php@DESKTOP-PSVFMK8",[[1,2331,"> "]],[2331,2331],[2333,2333]]],[1572691083314,["sirui-php@DESKTOP-PSVFMK8",[[1,2366,"> "]],[2366,2366],[2368,2368]]],[1572691138624,["sirui-php@DESKTOP-PSVFMK8",[[1,2519,"\n"]],[2517,2517],[2518,2518]]],[1572691138794,["sirui-php@DESKTOP-PSVFMK8",[[1,2518,"# onManagerStart"]],[2518,2518],[2534,2534]]],[1572691143276,["sirui-php@DESKTOP-PSVFMK8",[[1,2518,"$$\n\n$$\n"]],[2518,2518],[2521,2521]]],[1572691144094,["sirui-php@DESKTOP-PSVFMK8",[[-1,2518,"$$\n\n$$\n"]],[2521,2521],[2518,2518]]],[1572691145524,["sirui-php@DESKTOP-PSVFMK8",[[1,2519,"##"]],[2518,2518],[2520,2520]]],[1572691146761,["sirui-php@DESKTOP-PSVFMK8",[[1,2538,"\n"]],[2536,2536],[2537,2537]]],[1572691147241,["sirui-php@DESKTOP-PSVFMK8",[[1,2539,"\n"]],[2537,2537],[2538,2538]]],[1572691155545,["sirui-php@DESKTOP-PSVFMK8",[[1,2538,"`onManagerStart`触发时，说明：\n\n*   `Task`和`Worker`进程已创建\n*   `Master`进程状态不明，因为`Manager`与`Master`是并行的，`onManagerStart`回调发生是不能确定`Master`进程是否已就绪\n\n## BASE"]],[2538,2538],[2681,2681]]],[1572691157155,["sirui-php@DESKTOP-PSVFMK8",[[-1,2682,"\n"]],[2681,2681],[2681,2681]]],[1572691159321,["sirui-php@DESKTOP-PSVFMK8",[[-1,2674,"## BASE"]],[2681,2681],[2674,2674]]],[1572691159537,["sirui-php@DESKTOP-PSVFMK8",[[-1,2674,"\n"]],[2674,2674],[2673,2673]]],[1572691160409,["sirui-php@DESKTOP-PSVFMK8",[[1,2674,"\n"]],[2673,2673],[2674,2674]]],[1572691175619,["sirui-php@DESKTOP-PSVFMK8",[[-1,2054,"的执行"]],[2057,2057],[2054,2054]]],[1572691177204,["sirui-php@DESKTOP-PSVFMK8",[[1,2054,"启动"]],[2054,2054],[2056,2056]]],[1572691180607,["sirui-php@DESKTOP-PSVFMK8",[[1,2064,"1.,"]],[2064,2064],[2067,2067]]],[1572691181232,["sirui-php@DESKTOP-PSVFMK8",[[-1,2066,","]],[2067,2067],[2066,2066]]],[1572691182010,["sirui-php@DESKTOP-PSVFMK8",[[1,2066," "]],[2066,2066],[2067,2067]]],[1572691186323,["sirui-php@DESKTOP-PSVFMK8",[[1,2409,"2. "]],[2409,2409],[2412,2412]]],[1572691189762,["sirui-php@DESKTOP-PSVFMK8",[[1,2527,"3. "]],[2527,2527],[2530,2530]]],[1572691190328,["sirui-php@DESKTOP-PSVFMK8",[[-1,2529," "]],[2530,2530],[2529,2529]]],[1572691190789,["sirui-php@DESKTOP-PSVFMK8",[[1,2529," "]],[2529,2529],[2530,2530]]]],null,"sirui-php@DESKTOP-PSVFMK8"]]}